# 兑换接口分析

1. 根据shareId查询是否存在，不存在直接抛异常，存在的话，取出兑换该资源所需积分，走第2步 
2. 查询当前用户是否有兑换该资源的权限（中间表查询数据是否存在），如果存在，直接返回该资源；如果不存在，走第3步 
3. 查询当前用户的积分是否足够兑换该资源，如果不够直接抛异常返回，如果够，走第4步
4. 通过OpenFeign，调用用户服务，修改用户积分，然后走第5步 
5. 调用内容服务的修改内容功能，修改该资源的下载次数，然后走第6步 
6. 向mid_user_share中间表插入一条记录，走第7步 
7. 返回share，结束